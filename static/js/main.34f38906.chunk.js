(this["webpackJsonpproto-dashboard"]=this["webpackJsonpproto-dashboard"]||[]).push([[0],{13:function(e,t,n){},16:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(7),c=n.n(l),o=(n(13),n(2)),s=n(1),u=n.n(s),i=n(3),d=n(5);function m(e){return f.apply(this,arguments)}function f(){return(f=Object(i.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){var t=new Set,n={},a=!0,r=!1,l=void 0;try{for(var c,o=e[Symbol.iterator]();!(a=(c=o.next()).done);a=!0){var s=c.value;if("TrustlineUpdate"===s.type){for(var u=[s.from,s.to],i=0,d=u;i<d.length;i++){var m=d[i];t.add(m)}var f=u[0],v=u[1];if(v<f){var E=[v,f];f=E[0],v=E[1]}n[[f,v]]={from:f,to:v}}}}catch(x){r=!0,l=x}finally{try{a||null==o.return||o.return()}finally{if(r)throw l}}var h=[],b=[],p=!0,w=!1,y=void 0;try{for(var k,j=t[Symbol.iterator]();!(p=(k=j.next()).done);p=!0){var O=k.value;h.push({id:O,label:O.slice(0,7)})}}catch(x){w=!0,y=x}finally{try{p||null==j.return||j.return()}finally{if(w)throw y}}for(var g=0,N=Object.values(n);g<N.length;g++){var S=N[g];b.push(S)}return[h,b]}var E={autoResize:!0,height:"100%",width:"100%",interaction:{selectConnectedEdges:!1}};var h=function(e){var t=e.address,n=e.onSelectTrustline,l=e.onSelectAccount,c=Object(a.useRef)(null),s=Object(a.useState)(!0),f=Object(o.a)(s,2),h=f[0],b=f[1],p=Object(a.useState)(null),w=Object(o.a)(p,2),y=w[0],k=w[1];return Object(a.useEffect)((function(){function e(){return(e=Object(i.a)(u.a.mark((function e(){var a,r,s,i,f,h,p;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y&&y.setData({}),b(!0),e.next=4,m("https://tlbc.relay.anyblock.tools"+"/api/v1/networks/".concat(t,"/events"));case 4:a=e.sent,r=v(a),s=Object(o.a)(r,2),i=s[0],f=s[1],h={nodes:new d.a.DataSet(i),edges:new d.a.DataSet(f)},y?(y.setData(h),p=y):(p=new d.a.Network(c.current,h,E),k(p)),p.off("selectEdge"),p.off("selectNode"),p.off("deselectEdge"),p.off("deselectNode"),p.on("selectEdge",(function(e){if(1===e.edges.length&&0===e.nodes.length){var a=h.edges.get(e.edges[0]),r={network:t,from:a.from,to:a.to};n(r)}})),p.on("selectNode",(function(e){1===e.nodes.length&&l(e.nodes[0])})),p.on("deselectEdge",(function(e){n(null)})),p.on("deselectNode",(function(e){l(null)})),b(!1);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[y,t,n,l]),r.a.createElement("div",{style:{width:"100%",height:"100%"}},h&&r.a.createElement("div",{className:"has-text-centered"},"loading..."),r.a.createElement("div",{style:{width:"100%",height:"100%"},ref:c}))};n(16);var b=function(e){var t=e.onNetworkSelect,n=Object(a.useState)([]),l=Object(o.a)(n,2),c=l[0],s=l[1];return Object(a.useEffect)((function(){function e(){return(e=Object(i.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("https://tlbc.relay.anyblock.tools/api/v1/networks");case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement("div",{className:"list is-hoverable my-list"},c.map((function(e){return r.a.createElement("a",{onClick:function(){return t(e)},className:"list-item",key:e.address},e.name)})))};var p=function(e){var t=e.network;return r.a.createElement("div",null,r.a.createElement("div",{className:"title"},t.name," (",t.abbreviation,")"),r.a.createElement("div",{className:"subtitle"},t.numUsers," Users"))},w=n(4),y=n.n(w);function k(e,t){var n=new y.a(e).div(new y.a(10).pow(t.decimals));return"".concat(n," ").concat(t.abbreviation)}var j=function(e){var t=e.network,n=e.from,l=e.to,c=Object(a.useState)({}),s=Object(o.a)(c,2),d=s[0],f=s[1];return Object(a.useEffect)((function(){function e(){return(e=Object(i.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("https://tlbc.relay.anyblock.tools"+"/api/v1/networks/".concat(t.address,"/users/").concat(n,"/trustlines/").concat(l));case 2:a=e.sent,f(a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,n,l]),r.a.createElement("div",null,r.a.createElement("div",{className:"title"},"Trustline Details"),r.a.createElement("table",{className:"table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"from"),r.a.createElement("td",null,d.user)),r.a.createElement("tr",null,r.a.createElement("th",null,"to"),r.a.createElement("td",null,d.counterParty)),r.a.createElement("tr",null,r.a.createElement("th",null,"Credit given"),r.a.createElement("td",null,k(d.given,t))),r.a.createElement("tr",null,r.a.createElement("th",null,"Credit received"),r.a.createElement("td",null,k(d.received,t))),r.a.createElement("tr",null,r.a.createElement("th",null,"Balance"),r.a.createElement("td",null,k(d.balance,t))))))};function O(e,t){if(null==e)return"...";var n=new y.a(e).div(new y.a(10).pow(t.decimals));return"".concat(n," ").concat(t.abbreviation)}var g=function(e){var t=e.network,n=e.address,l=Object(a.useState)({}),c=Object(o.a)(l,2),s=c[0],d=c[1];return Object(a.useEffect)((function(){function e(){return(e=Object(i.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("https://tlbc.relay.anyblock.tools"+"/api/v1/networks/".concat(t.address,"/users/").concat(n));case 2:a=e.sent,d(a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,n]),r.a.createElement("div",null,r.a.createElement("div",{className:"title"},"Account Details"),r.a.createElement("table",{className:"table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"User"),r.a.createElement("td",null,n)),r.a.createElement("tr",null,r.a.createElement("th",null,"Credit given"),r.a.createElement("td",null,O(s.given,t))),r.a.createElement("tr",null,r.a.createElement("th",null,"Credit received"),r.a.createElement("td",null,O(s.received,t))),r.a.createElement("tr",null,r.a.createElement("th",null,"Balance"),r.a.createElement("td",null,O(s.balance,t))),r.a.createElement("tr",null,r.a.createElement("th",null,"Available"),r.a.createElement("td",null,O(s.leftReceived,t))))))};n(17),n(18);var N=function(){var e=Object(a.useState)(null),t=Object(o.a)(e,2),n=t[0],l=t[1],c=Object(a.useState)(null),s=Object(o.a)(c,2),u=s[0],i=s[1],d=Object(a.useState)(null),m=Object(o.a)(d,2),f=m[0],v=m[1],E=Object(a.useCallback)((function(e){i(null),v(null),l(e)}),[]);return r.a.createElement("div",{className:"mycontainer columns"},r.a.createElement("div",{className:"column is-one-quarter"},r.a.createElement(b,{onNetworkSelect:E})),r.a.createElement("div",{className:"column is-one-half"},n&&r.a.createElement(p,{network:n}),n?r.a.createElement(h,{address:n.address,onSelectTrustline:i,onSelectAccount:v}):r.a.createElement("div",{className:"has-text-centered"},"Select a network")),r.a.createElement("div",{className:"column is-one-quarter"},u?r.a.createElement(j,{network:n,from:u.from,to:u.to}):r.a.createElement("div",{className:"has-text-centered"},"Select a trustline"),r.a.createElement("br",null),r.a.createElement("br",null),f?r.a.createElement(g,{network:n,address:f}):r.a.createElement("div",{className:"has-text-centered"},"Select an account")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,n){e.exports=n(19)}},[[8,1,2]]]);
//# sourceMappingURL=main.34f38906.chunk.js.map